#include <bits/stdc++.h>

using namespace std;

vector < pair<int, pair<int,int> > > v;
int ans[200005];
int A[30005];
int cnt;
int blocks;
int vis[1000005];

void add(int pos)
{
    if ( vis[A[pos]] == 0 ) cnt++;
    vis[A[pos]]++;
    return;
}

void rem(int pos)
{
    if ( vis[A[pos]] == 1 ) cnt--;
    vis[A[pos]]--;
    return;
}

bool func(pair <int, pair<int,int> > p1, pair <int, pair<int,int> > p2)
{
    if ( p1.second.first/blocks != p2.second.first/blocks ) return (p1.second.first)/blocks < (p2.second.first)/blocks;
    return p1.second.second < p2.second.second;
}

int main()
{
    int n,q,x,y,l=0,r=0;
    cnt = 0;

    scanf("%d", &n);
    blocks = (int)sqrt(n);
    for ( int i = 0; i < n; i++ ) scanf("%d", &A[i]);

    scanf("%d", &q);

    for ( int i = 0; i < q; i++ ) {
        scanf("%d%d", &x, &y);
        x--,y--;
        v.push_back(make_pair(i,make_pair(x,y)));
    }

    sort(v.begin(),v.end(),func);

    for ( int i = 0; i < q; i++ ) {
        while ( l < v[i].second.first ) {
            rem(l);
            l++;
        }
        while ( l > v[i].second.first ) {
            add(l-1);
            l--;
        }
        while ( r <= v[i].second.second ) {
            add(r);
            r++;
        }
        while ( r > v[i].second.second+1 ) {
            rem(r-1);
            r--;
        }
        ans[v[i].first] = cnt;
    }

    for ( int i = 0; i < q; i++ ) printf("%d\n", ans[i]);
    return 0;
}
